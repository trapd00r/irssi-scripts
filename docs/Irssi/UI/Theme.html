<html><head><title>Irssi::UI::Theme</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="podstyle" type="text/css" href="../../podstyle.css" media="all" >

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.03,
  using Pod::Simple::PullParser v2.02,
  under Perl v5.010001 at Mon Oct 11 18:29:15 2010 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#FIELDS'>FIELDS</a>
  <li class='indexItem indexItem1'><a href='#METHODS'>METHODS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#format_expand_%24theme%2C_%24format%2C_%24flags'>format_expand $theme, $format, $flags</a>
    <li class='indexItem indexItem2'><a href='#get_format_%24theme%2C_%24module%2C_%24tag'>get_format $theme, $module, $tag</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#THEME_DETAILS'>THEME DETAILS</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Loading_and_Testing'>Loading and Testing</a>
    <li class='indexItem indexItem2'><a href='#TEMPLATES'>TEMPLATES</a>
    <li class='indexItem indexItem2'><a href='#COLOURS'>COLOURS</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Irssi::UI::Theme</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="FIELDS"
>FIELDS</a></h1>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="METHODS"
>METHODS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="format_expand_$theme,_$format,_$flags"
><code>format_expand $theme,
$format,
$flags</code></a></h2>

<p><code>$flags</code> is an optional bitmask of any of the following flags:</p>

<dl>
<dt><a name="EXPAND_FLAG_IGNORE_REPLACES"
><code>EXPAND_FLAG_IGNORE_REPLACES</code></a></dt>

<dd>
<p>Any replacements specified in the theme are not applied to this expansion.</p>

<dt><a name="EXPAND_FLAG_RECURSIVE_MASK"
><code>EXPAND_FLAG_RECURSIVE_MASK</code></a></dt>

<dd>
<p><b>TODO: dunno</b></p>

<dt><a name="EXPAND_FLAG_IGNORE_EMPTY"
><code>EXPAND_FLAG_IGNORE_EMPTY</code></a></dt>

<dd>
<p>If the format contains variables and no values are specified,
an empty string is returned instead of a partially filled template.</p>
</dd>
</dl>

<p><b>TODO: What?</b></p>

<p>Example:</p>

<pre>    my $formatted_str = Irssi::current_theme()-&#62;format_expand(&#39;{hilight Hello}&#39;);</pre>

<p><b>NOTE: it seems that this only operates on abstract templates, not those accessible with <code>/FORMAT</code>. Weird</b></p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="get_format_$theme,_$module,_$tag"
><code>get_format $theme, $module, $tag</code></a></h2>

<p>Returns the unexpanded format template for the format name supplied in <code>$tag</code>.</p>

<p>Valid values for <code>$module</code> are:</p>

<dl>
<dt><a name="fe-common/perl"
><code>fe-common/perl</code>
<dt><a name="fe-common/irc/dcc"
><code>fe-common/irc/dcc</code>
<dt><a name="fe-common/irc"
><code>fe-common/irc</code>
<dt><a name="fe-common/core"
><code>fe-common/core</code>
<dt><a name="fe-common/irc/notifylist"
><code>fe-common/irc/notifylist</code>
<dt><a name="fe-text"
><code>fe-text</code></a></dt>
</dl>

<p>Example:</p>

<pre>    my $pubmsg_format = Irssi::current_theme()-&#62;get_format(&#39;fe-common/core&#39;, &#39;pubmsg&#39;);</pre>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="THEME_DETAILS"
>THEME DETAILS</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Loading_and_Testing"
>Loading and Testing</a></h2>

<p>You can change themes by issuing a <code>/SET theme <em>theme-name</em></code> command from Irssi. Reloading is slightly harder, since Irssi will only reload and process a new theme if the <code>theme</code> variable <i>changes</i>.</p>

<p>You can force a reload of the theme (and everything else) with <code>/RELOAD</code>. This reloads the configuration file too, so if you did any changes remember to <code>/SAVE</code> first.</p>

<p><b>Remember also that <code>/SAVE</code> overwrites the theme file with old data so keep backups <code>:)</code></b></p>

<p>Better alternatives are the following aliases:</p>

<pre>    /ALIAS THEMERELOAD SCRIPT EXEC Irssi::themes_reload();</pre>

<p>or</p>

<pre>    /ALIAS THEMERELOAD SET theme default; EVAL SET theme $theme</pre>

<p>The former is preferred if you have scripting support, whereas the latter will work without scripting (Perl) support loaded, but requires that you are editing a custom theme, rather than modifying <em>default.theme</em>.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="TEMPLATES"
>TEMPLATES</a></h2>

<p>The actual mechanism used by Irssi to print text into the client involves a certain amount of indirection, which allows themes to reformat messages in various ways before they are displayed.</p>

<p>The overall structure of these templates is based around 3 basic ideas:</p>

<dl>
<dt><a name="Nested_Templates"
>Nested Templates
<dt><a name="Colour_Codes"
>Colour Codes
<dt><a name="Variable_Expansion"
>Variable Expansion
<dt><a name="Special_Variables"
>Special Variables</a></dt>
</dl>

<p>The real text formats that irssi uses are the ones you can find with /FORMAT command. Back in the old days all the colors and texts were mixed up in those formats, and it was really hard to change the colors since you might have had to change them in tens of different places. So, then came this templating system.</p>

<p>Now the <code>/FORMAT</code>s don&#39;t have any colors in them, and they also have very little other styling. Most of the stuff you need to change is in this theme file. If you can&#39;t change something here, you can always go back to change the /FORMATs directly, they&#39;re also saved in the <em>*.theme</em> files.</p>

<p>So, the templates. They&#39;re those <code>{blahblah}</code> parts you see all over the /FORMATs and here. Their usage is simply <code>{name parameter1 parameter2}</code>.</p>

<p>When irssi sees this kind of text, it goes to find <code>name</code> from the abstracts block below and sets <code>parameter1</code> into <code>$0</code> and <code>parameter2</code> into <code>$1</code> (you can have more parameters of course). Templates can have sub-templates. Here&#39;s a small example:</p>

<pre>  /FORMAT format hello {colorify {underline world}}

  abstracts = { colorify = &#34;%G$0-%n&#34;; underline = &#34;%U$0-%U&#34;; }</pre>

<p>When irssi expands the templates in <code>&#34;format&#34;</code>, the final string would be:</p>

<pre>  hello %G%Uworld%U%n</pre>

<p>ie. underlined bright green &#34;world&#34; text. and why <code>$0-</code>, why not <code>$0</code>? <code>$0</code> would only mean the first parameter, <code>$0-</code> means all the parameters. With <code>{underline hello world}</code> you&#39;d really want to underline both of the words, not just the hello (and world would actually be removed entirely).</p>

<p>See also <a href="../../Formats.html#ALIAS_AND_FORMAT_TEMPLATE_ARGUMENTS" class="podlinkpod"
>Formats#arguments</a> for details on the variable to argument mapping.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="COLOURS"
>COLOURS</a></h2>

<p>You can find definitions for the colour format codes in <a href="../../Formats.html#COLOURS" class="podlinkpod"
>&#34;COLOURS&#34; in Formats</a>.</p>

<p>There&#39;s one difference here though. <code>%n</code> format. Normally it means the default color of the terminal (white mostly), but here it means the &#34;reset color back to the one it was in higher template&#34;. For example if there was <code>/FORMAT test %g{foo}bar</code>, and <code>foo = &#34;%Y$0%n&#34;</code>, irssi would print yellow <code>&#34;foo&#34;</code> (as set with <code>%Y</code>) but <code>&#34;bar&#34;</code> would be green, which was set at the beginning before the <code>{foo}</code> template. If there wasn&#39;t the <code>%g</code> at start, the normal behaviour of <code>%n</code> would occur. If you <i>really</i> want to use the terminal&#39;s default color, use <code>%N</code>.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>Based on the original content found as comments in the <em>default.theme</em> file. Copyright &#169; 2000-2010 <a href="http://irssi.org" class="podlinkurl"
>The Irssi project</a>.</p>

<p>Formatting and additional content by Tom Feist <a href="mailto:shabble+irssi@metavore.org" class="podlinkurl"
>shabble+irssi@metavore.org</a></p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
